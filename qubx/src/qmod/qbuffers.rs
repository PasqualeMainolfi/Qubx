// TODO: read and write buffers